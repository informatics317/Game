# –ò–º–ø–æ—Ä—Ç —Ñ–∞–π–ª–∞ —Å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏
from Artifacts import *

'''–í–µ—Ç–∫–∞ 1 –í—Å—Ç—Ä–µ—á–∞ —Å–æ —Å—Ç–∞—Ä—Ü–µ–º'''
def first_branch(arthur, user_artifacts, artifact_pool, story_progress):
    log_event('\n' + '=' * 50)
    log_event(' ' * 10 + '–í—Å—Ç—Ä–µ—á–∞ —Å–æ —Å—Ç–∞—Ä—Ü–µ–º')
    log_event('=' * 50)
    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
    log_event('\n–¢—ã –∏–¥–µ—à—å –Ω–∞–ø—Ä–∞–≤–æ –∏ –≤—Å—Ç—Ä–µ—á–∞–µ—à—å –º—É–¥—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ü–∞ –ø–æ–¥ –¥—Ä–µ–≤–Ω–∏–º –¥—É–±–æ–º.')
    log_event('–°—Ç–∞—Ä–µ—Ü üßô‚Äç‚ôÇÔ∏è: ¬´–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è, –ê—Ä—Ç—É—Ä! –ò—Å–ø—ã—Ç–∞–π —Å–≤–æ—é –º—É–¥—Ä–æ—Å—Ç—å.¬ª')

    # –ó–∞–≥–∞–¥–∫–∏ —Å—Ç–∞—Ä—Ü–∞
    # –ó–∞–≥–∞–¥–∫–∞ - —ç—Ç–æ —Å–ª–æ–≤–∞—Ä—å —Å –≤–æ–ø—Ä–æ—Å–æ–º, –æ—Ç–≤–µ—Ç–æ–º –∏ –Ω–∞–≥—Ä–∞–¥–æ–π
    riddles = [
        {'question': '–ß—Ç–æ –∏—Å—á–µ–∑–∞–µ—Ç, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–∏–∑–Ω–µ—Å–µ—à—å –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ?',
        'answer': '—Ç–∏—à–∏–Ω–∞',
        'reward': 'üó°Ô∏è –≠–∫—Å–∫–∞–ª–∏–±—É—Ä'},

        {'question': '–ù–µ–∂–∏–≤–æ–µ, –Ω–æ –º–æ–∂–µ—Ç —Ä–∞—Å—Ç–∏. –ù–µ –¥—ã—à–∏—Ç, –Ω–æ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –≤–æ–∑–¥—É—Ö–µ. –ß—Ç–æ —ç—Ç–æ?',
        'answer': '–æ–≥–æ–Ω—å',
        'reward': 'üß™ –≠–ª–∏–∫—Å–∏—Ä –∑–¥–æ—Ä–æ–≤—å—è'},

        {'question': '–ó–∏–º–æ–π –∏ –ª–µ—Ç–æ–º –æ–¥–Ω–∏–º —Ü–≤–µ—Ç–æ–º. –ß—Ç–æ —ç—Ç–æ?',
        'answer': '–µ–ª–∫–∞'}
    ]
    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
    log_event('–°—Ç–∞—Ä–µ—Ü üßô‚Äç‚ôÇÔ∏èÔ∏è: ¬´–û—Ç–≥–∞–¥–∞–π –º–æ–∏ –∑–∞–≥–∞–¥–∫–∏ –∏ –ø–æ–ª—É—á–∏—à—å –Ω–∞–≥—Ä–∞–¥—É!¬ª')

    '''–ó–∞–≥–∞–¥–∫–∞ 1
    –ù–∞–≥—Ä–∞–¥–∞ - –º–µ—á –≠–∫—Å–∫–∞–ª–∏–±—É—Ä –∏ –≠–ª–∏–∫—Å–∏—Ä –∑–¥–æ—Ä–æ–≤—å—è'''
    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
    log_event(f'\nüß© –ó–∞–≥–∞–¥–∫–∞ 1: {riddles[0]['question']}')
    # –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç —É –∏–≥—Ä–æ–∫–∞. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä –∏ —É–¥–∞–ª—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã
    answer = input('–¢–≤–æ–π –æ—Ç–≤–µ—Ç: ').lower().strip()

    # –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
    if answer == riddles[0]['answer']:
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
        log_event('‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!  –°—Ç–∞—Ä–µ—Ü üßô‚Äç‚ôÇÔ∏èÔ∏è: ¬´–¢—ã –æ—Ç–≥–∞–¥–∞–ª –º–æ—é –∑–∞–≥–∞–¥–∫—É!¬ª')
        log_event(f'üéÅ –ó–∞ —Å–≤–æ—é –º—É–¥—Ä–æ—Å—Ç—å —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å: {riddles[0]['reward']} –∏ {riddles[1]['reward']}')

        # –î–∞–µ—Ç –≠–∫—Å–∫–∞–ª–∏–±—É—Ä
        arthur.excalibur = True
        # –î–∞–µ—Ç –∏–≥—Ä–æ–∫—É –≠–ª–∏–∫—Å–∏—Ä –∑–¥–æ—Ä–æ–≤—å—è
        arthur.health_elixir += 1
        # –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤ –∫–æ–ø–∏–ª–∫—É –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
        artifact_pool.append('üó°Ô∏è –≠–∫—Å–∫–∞–ª–∏–±—É—Ä')
        artifact_pool.append('üß™ –≠–ª–∏–∫—Å–∏—Ä –∑–¥–æ—Ä–æ–≤—å—è')
        # –î–æ–±–∞–≤–ª—è–µ–º –≤ —Ñ–∞–π–ª –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –∏–≥—Ä–æ–∫–∞
        with open(user_artifacts_file, 'a', encoding='utf-8') as f:
            f.write('\nüó°Ô∏è –≠–∫—Å–∫–∞–ª–∏–±—É—Ä')
            f.write('\nüß™ –≠–ª–∏–∫—Å–∏—Ä –∑–¥–æ—Ä–æ–≤—å—è')

        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
        log_event('‚≠ê –¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –µ—Å—Ç—å –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –º–µ—á –≠–∫—Å–∫–∞–ª–∏–±—É—Ä! –û–Ω –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ –≤ –±–∏—Ç–≤–µ —Å –ú–æ—Ä–¥—Ä–µ–¥–æ–º.')
        log_event('‚≠ê –ï—â–µ —Ç—ã –ø–æ–ª—É—á–∏–ª –≠–ª–∏–∫—Å–∏—Ä –∑–¥–æ—Ä–æ–≤—å—è. –ò—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ –≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç.')

        # –ò–≥—Ä–æ–∫ –ø—Ä–æ—à–µ–ª —ç—Ç—É –≤–µ—Ç–∫—É.
        # –î–æ–±–∞–≤–ª—è–µ—Ç –º–µ—Ç–∫—É 'old man' –≤ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫
        story_progress.append('old man')
        # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç True, —Ç–∞–∫ –∫–∞–∫ –≤–µ—Ç–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞
        return True


    else:
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
        log_event('‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –¢—ã —Ç–µ—Ä—è–µ—à—å 15 –∑–¥–æ—Ä–æ–≤—å—è.')
        # –ê—Ä—Ç—É—Ä –ø–æ–ª—É—á–∞–µ—Ç —É—Ä–æ–Ω
        Artur.take_damage(15)
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
        log_event(f'‚ù§Ô∏è –¢–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ: {Artur.hp}/100')

        '''–í—Ç–æ—Ä–∞—è –∑–∞–≥–∞–¥–∫–∞
        –ù–∞–≥—Ä–∞–¥–∞ - –º–µ—á –≠–∫—Å–∫–∞–ª–∏–±—É—Ä'''
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
        log_event(f'\nüß© –ó–∞–≥–∞–¥–∫–∞ 2: {riddles[1]['question']}')
        # –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç —É –∏–≥—Ä–æ–∫–∞. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä –∏ —É–¥–∞–ª—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã
        answer = input('–¢–≤–æ–π –æ—Ç–≤–µ—Ç: ').lower().strip()

        # –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å –∑–∞–≥–∞–¥–∫–æ–π 1

        if answer == riddles[1]['answer']:
            log_event('‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!  –°—Ç–∞—Ä–µ—Ü üßô‚Äç‚ôÇÔ∏èÔ∏è: ¬´–¢—ã –æ—Ç–≥–∞–¥–∞–ª –º–æ—é –∑–∞–≥–∞–¥–∫—É!¬ª')
            log_event(f'üéÅ –¢—ã –ø–æ–ª—É—á–∞–µ—à—å: {riddles[0]['reward']}')

            # –î–∞–µ—Ç –≠–∫—Å–∫–∞–ª–∏–±—É—Ä
            arthur.excalibur = True
            artifact_pool.append('üó°Ô∏è –≠–∫—Å–∫–∞–ª–∏–±—É—Ä')
            with open(user_artifacts_file, 'a', encoding='utf-8') as f:
                f.write('\nüó°Ô∏è –≠–∫—Å–∫–∞–ª–∏–±—É—Ä')
            log_event('‚≠ê –¢–µ–±–µ –≤—Å–µ –∂–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±—ã—Ç—å –º–µ—á!')

            story_progress.append('old man')
            return True

        else:
            log_event('‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –¢—ã —Ç–µ—Ä—è–µ—à—å –µ—â–µ 15 –∑–¥–æ—Ä–æ–≤—å—è.')
            # –ê—Ä—Ç—É—Ä –ø–æ–ª—É—á–∞–µ—Ç —É—Ä–æ–Ω
            Artur.take_damage(15)
            log_event(f'‚ù§Ô∏è –¢–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ: {Artur.hp}/100')

            '''–¢—Ä–µ—Ç—å—è –∑–∞–≥–∞–¥–∫–∞
            –ù–∞–≥—Ä–∞–¥–∞ - –≠–ª–∏–∫—Å–∏—Ä –∑–¥–æ—Ä–æ–≤—å—è'''
            log_event(f'\nüß© –ó–∞–≥–∞–¥–∫–∞ 3: {riddles[2]['question']}')

            # –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å –∑–∞–≥–∞–¥–∫–æ–π 1
            while True:
                answer = input('–¢–≤–æ–π –æ—Ç–≤–µ—Ç: ').lower().strip()

                if answer == riddles[2]['answer']:
                    log_event('‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ!')
                    log_event(f'üéÅ –¢—ã –ø–æ–ª—É—á–∞–µ—à—å: {riddles[1]['reward']}')

                    arthur.health_elixir += 1
                    artifact_pool.append('üß™ –≠–ª–∏–∫—Å–∏—Ä –∑–¥–æ—Ä–æ–≤—å—è')
                    with open(user_artifacts_file, 'a', encoding='utf-8') as f:
                        f.write('\nüß™ –≠–ª–∏–∫—Å–∏—Ä –∑–¥–æ—Ä–æ–≤—å—è')

                    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
                    log_event('–°—Ç–∞—Ä–µ—Ü üßô‚Äç‚ôÇÔ∏èÔ∏è: ¬´–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —è –Ω–µ –º–æ–≥—É –æ—Ç–¥–∞—Ç—å —Ç–µ–±–µ –º–µ—á –≠–∫—Å–∫–∞–ª–∏–±—É—Ä. –ù–æ –≤–æ—Ç —Ç–µ–±–µ –≠–ª–∏–∫—Å–∏—Ä –∑–¥–æ—Ä–æ–≤—å—è.¬ª')
                    log_event('–°—Ç–∞—Ä–µ—Ü üßô‚Äç‚ôÇÔ∏èÔ∏è: ¬´–ü–æ–ø—ã—Ç–∞–π —É–¥–∞—á—É –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑.¬ª')

                    story_progress.append('old man')
                    return True
                else:
                    log_event('‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –¢—ã —Ç–µ—Ä—è–µ—à—å 10 –∑–¥–æ—Ä–æ–≤—å—è.')
                    # –ê—Ä—Ç—É—Ä –ø–æ–ª—É—á–∞–µ—Ç —É—Ä–æ–Ω
                    Artur.take_damage(10)
                    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
                    log_event(f'‚ù§Ô∏è –¢–≤–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ: {Artur.hp}/100')

                    # –ï—Å–ª–∏ –ê—Ä—Ç—É—Ä —É–º–µ—Ä
                    if not arthur.is_alive:
                        log_event('üíÄ –¢—ã –ø–∞–¥–∞–µ—à—å –±–µ–∑ —Å–∏–ª...')
                        return False

                    return True
