# –ò–º–ø–æ—Ä—Ç —Ñ–∞–π–ª–∞ —Å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏
from Artifacts import*
# –ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ random –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
from random import*

'''–í–µ—Ç–∫–∞ 2 –ò–≥—Ä–∞ –≤ –∫–æ—Å—Ç–∏ —Å –≥–Ω–æ–º–æ–º'''
def second_branch(arthur, user_artifacts, artifact_pool, story_progress):
    log_event('\n' + '=' * 50)
    log_event(' ' * 15 + '–ü–µ—â–µ—Ä–∞ —Å –≥–Ω–æ–º–æ–º')
    log_event('=' * 50)

    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
    log_event('\nüï≥Ô∏è –¢—ã –∏–¥–µ—à—å –Ω–∞–ª–µ–≤–æ –∏ –ø–æ–ø–∞–¥–∞–µ—à—å –≤ —Ç–µ–º–Ω—É—é –ø–µ—â–µ—Ä—É.')
    log_event('üî• –£ –∫–æ—Å—Ç—Ä–∞ —Å–∏–¥–∏—Ç –≥–Ω–æ–º.')
    log_event('–ì–Ω–æ–º üßå: ¬´–°—ã–≥—Ä–∞–µ–º –≤ –∫–æ—Å—Ç–∏ –Ω–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã?¬ª')
    log_event('–ì–Ω–æ–º üßå: ¬´–ï—Å–ª–∏ –≤—ã–∏–≥—Ä–∞–µ—à—å, —è –æ—Ç–¥–∞–º —Ç–µ–±–µ –°–≤—è—â–µ–Ω–Ω—ã–π –ì—Ä–∞–∞–ª—å¬ª')

    # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —É –∏–≥—Ä–æ–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –¥–ª—è –∏–≥—Ä—ã
    if not user_artifacts:
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
        log_event('üòû –£ —Ç–µ–±—è –Ω–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –¥–ª—è –∏–≥—Ä—ã.')
        log_event('–ì–Ω–æ–º:üßå: ¬´–ü—Ä–∏—Ö–æ–¥–∏, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç —á—Ç–æ —Å—Ç–∞–≤–∏—Ç—å.¬ª')
        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º True, –≤–µ—Ç–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞
        return True

    # –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã
    print('\nüé≤ –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã –≤ –∫–æ—Å—Ç–∏:')
    print('‚Ä¢ –¢—ã –∏ –≥–Ω–æ–º –±—Ä–æ—Å–∞–µ—Ç–µ –∫—É–±–∏–∫')
    print('‚Ä¢ –£ –∫–æ–≥–æ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ - —Ç–æ—Ç –∑–∞–±–∏—Ä–∞–µ—Ç —Å—Ç–∞–≤–∫—É')
    print('‚Ä¢ –°—Ç–∞–≤–∫–∞ - –æ–¥–∏–Ω –∏–∑ —Ç–≤–æ–∏—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤')

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–≥—Ä–æ–∫—É –µ–≥–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
    print('\nüéí –¢–≤–æ–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:')
    # –°–æ–∑–¥–∞–µ—Ç –ø–∞—Ä—ã - –Ω–æ–º–µ—Ä, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç
    for i, artifact in enumerate(user_artifacts, 1):
        # –í—ã–≤–æ–¥–∏—Ç –Ω–æ–º–µ—Ä –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
        print(f'{i}. {artifact}')

    try:
        # –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É –∏–≥—Ä–æ–∫–∞ –≤—ã–±–æ—Ä –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ –¥–ª—è —Å—Ç–∞–≤–∫–∏
        choice = int(input('\n–í—ã–±–µ—Ä–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –¥–ª—è —Å—Ç–∞–≤–∫–∏: '))
        # –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ
        if choice < 1 or choice > len(user_artifacts):
            print('‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä!')
            return True
    except:
        print('‚ùå –í–≤–µ–¥–∏ —á–∏—Å–ª–æ!')
        return True

    # –ü–æ–ª—É—á–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –¥–ª—è —Å—Ç–∞–≤–∫–∏
    # (choice-1), –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–Ω–¥–µ–∫—Å—ã –≤ —Å–ø–∏—Å–∫–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å 0, –∞ –Ω–æ–º–µ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å 1
    stavka = user_artifacts[choice - 1]
    print(f'\nüéØ –¢–≤–æ—è —Å—Ç–∞–≤–∫–∞: {stavka}')
    input('–ù–∞–∂–º–∏ Enter, —á—Ç–æ–±—ã –±—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫...')

    # –ë—Ä–æ—Å–∫–∏ –∏–≥—Ä–æ–∫–∞ –∏ –≥–Ω–æ–º–∞
    # randint(1, 6) –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 6 –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ
    player_brosok = randint(1, 6)
    gnome_brosok = randint(1, 6)

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—Ä–æ—Å–∫–æ–≤
    print(f'\nüé≤ –¢–≤–æ–π –±—Ä–æ—Å–æ–∫: {player_brosok}')
    print(f'üé≤ –ë—Ä–æ—Å–æ–∫ –≥–Ω–æ–º–∞: {gnome_brosok}')

    # –ï—Å–ª–∏ —É –∏–≥—Ä–æ–∫–∞ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ, –æ–Ω –ø–æ–±–µ–¥–∏–ª
    if player_brosok > gnome_brosok:
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
        log_event('ü•≥ –¢—ã –≤—ã–∏–≥—Ä–∞–ª!')

        if 'üèÜ –°–≤—è—â–µ–Ω–Ω—ã–π –ì—Ä–∞–∞–ª—å' not in user_artifacts:
            # –î–æ–±–∞–≤–ª—è–µ—Ç –°–≤—è—â–µ–Ω–Ω—ã–π –ì—Ä–∞–∞–ª—å –≤ —Ñ–∞–π–ª –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –∏–≥—Ä–æ–∫–∞.
            # –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª user_artifacts.txt –≤ —Ä–µ–∂–∏–º–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è '–∞'
            with open(user_artifacts_file, 'a', encoding='utf-8') as f:
                f.write('\nüèÜ –°–≤—è—â–µ–Ω–Ω—ã–π –ì—Ä–∞–∞–ª—å')
            # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
            log_event('üéÅ –¢—ã –ø–æ–ª—É—á–∞–µ—à—å –°–≤—è—â–µ–Ω–Ω—ã–π –ì—Ä–∞–∞–ª—å!')
            log_event('üåü –ì—Ä–∞–∞–ª—å –¥–∞–µ—Ç —Ç–µ–±–µ +20 –∫ —Å–∏–ª–µ!')
            # –£ –≥–µ—Ä–æ—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è –°–≤—è—â–µ–Ω–Ω—ã–π –ì—Ä–∞–∞–ª—å
            arthur.graal = True

            # –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –ê—Ä—Ç—É—Ä–∞
            arthur.strength += 20
            # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
            log_event(f'üí™ –¢–≤–æ—è —Å–∏–ª–∞: {arthur.strength}')

    # –ï—Å–ª–∏ —É –∏–≥—Ä–æ–∫–∞ —á–∏—Å–ª–æ –º–µ–Ω—å—à–µ, –æ–Ω –ø—Ä–æ–∏–≥—Ä–∞–ª
    elif player_brosok < gnome_brosok:
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
        log_event('üò¢ –¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª!')

        # –ì–Ω–æ–º –∑–∞–±–∏—Ä–∞–µ—Ç —Å—Ç–∞–≤–∫—É.
        # –£–¥–∞–ª—è–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –∏–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –∏–≥—Ä–æ–∫–∞
        user_artifacts.remove(stavka)
        # –£–¥–∞–ª—è–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –∏–∑ —Ñ–∞–π–ª–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –∏–≥—Ä–æ–∫–∞
        remove_artifacts(user_artifacts_file, f'{stavka}')

        # –î–æ–±–∞–≤–ª—è–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤ –∫–æ–ø–∏–ª–∫—É –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
        artifact_pool.append(stavka)
        # –î–æ–±–∞–≤–ª—è–µ–º –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –≤ —Ñ–∞–π–ª –∫–æ–ø–∏–ª–∫–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
        with open(artifact_pool_file, 'a', encoding='utf-8') as f:
            f.write(f'{stavka}')
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
        log_event(f'üéØ –ì–Ω–æ–º –∑–∞–±–∏—Ä–∞–µ—Ç {stavka}')

    else:
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
        log_event('ü§ù –ù–∏—á—å—è! –ê—Ä—Ç–µ—Ñ–∞–∫—Ç –æ—Å—Ç–∞–µ—Ç—Å—è —É —Ç–µ–±—è.')

    # –ò–≥—Ä–æ–∫ –ø—Ä–æ—à–µ–ª —ç—Ç—É –≤–µ—Ç–∫—É.
    # –î–æ–±–∞–≤–ª—è–µ—Ç –º–µ—Ç–∫—É 'cave' –≤ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫
    story_progress.append('cave')

    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç True, —Ç–∞–∫ –∫–∞–∫ –≤–µ—Ç–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞
    return True



